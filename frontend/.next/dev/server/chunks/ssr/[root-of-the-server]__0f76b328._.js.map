{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jagla/OneDrive/Desktop/CRM/my-app/app/ActivityHistoryPage/email/page.js"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useQuill } from \"react-quilljs\";\nimport \"quill/dist/quill.snow.css\";\n\nexport default function EmailSection() {\n  const { quillRef, quill } = useQuill({\n    theme: \"snow\",\n    modules: {\n      toolbar: [\n        [\"bold\", \"italic\", \"underline\"],\n        [{ size: [] }],\n        [{ font: [] }],\n        [{ list: \"ordered\" }, { list: \"bullet\" }],\n        [\"link\", \"image\"],\n        [\"clean\"],\n      ],\n    },\n  });\n\n  /* EMAIL LOGS */\n  const [emailLogs, setEmailLogs] = useState(() => {\n    const saved = localStorage.getItem(\"crm_email_logs\");\n    return saved ? JSON.parse(saved) : [];\n  });\n\n  /* EMAIL TEMPLATES */\n  const [templates, setTemplates] = useState(() => {\n    const saved = localStorage.getItem(\"crm_email_templates\");\n    return saved\n      ? JSON.parse(saved)\n      : [\n          {\n            id: 1,\n            name: \"Follow-up Template\",\n            content: \"<p>Hello, this is a follow-up email.</p>\",\n          },\n        ];\n  });\n\n  const [selectedTemplate, setSelectedTemplate] = useState(\"\");\n  const [subject, setSubject] = useState(\"\");\n  const [toEmail, setToEmail] = useState(\"mpl1@gmail.com\");\n\n  /* RESET EMAIL FORM */\n  const resetEmailForm = () => {\n    setSubject(\"\");\n    setToEmail(\"mpl1@gmail.com\");\n    setSelectedTemplate(\"\");\n\n    if (quill) {\n      quill.root.innerHTML = \"\";\n    }\n  };\n\n  /* SAVE TEMPLATE */\n  const saveTemplate = () => {\n    if (!quill) return;\n\n    const html = quill.root.innerHTML.trim();\n    if (!html || html === \"<p><br></p>\") {\n      alert(\"Message is empty!\");\n      return;\n    }\n\n    const name = prompt(\"Enter Template Name:\");\n    if (!name) return;\n\n    const newTemplate = {\n      id: Date.now(),\n      name,\n      content: html,\n    };\n\n    const updated = [newTemplate, ...templates];\n    setTemplates(updated);\n    localStorage.setItem(\"crm_email_templates\", JSON.stringify(updated));\n  };\n\n  /* APPLY TEMPLATE */\n  const applyTemplate = (id) => {\n    setSelectedTemplate(id);\n\n    const temp = templates.find((t) => t.id == id);\n    if (temp && quill) {\n      quill.root.innerHTML = temp.content;\n    }\n  };\n\n  /* SEND EMAIL */\n  const sendEmail = () => {\n    if (!quill) return;\n\n    const message = quill.root.innerHTML;\n\n    const newEmail = {\n      id: Date.now(),\n      to: toEmail,\n      subject: subject || \"(no subject)\",\n      message,\n      status: \"Sent\",\n      date: new Date().toLocaleString(\"en-GB\"),\n    };\n\n    const updated = [newEmail, ...emailLogs];\n\n    setEmailLogs(updated);\n    localStorage.setItem(\"crm_email_logs\", JSON.stringify(updated));\n\n    resetEmailForm();\n    alert(\"Email Sent Successfully!\");\n  };\n\n  return (\n    <div className=\"space-y-6 text-sm\">\n      {/* FROM */}\n      <div>\n        <label className=\"block mb-1 text-gray-700\">From</label>\n        <div className=\"flex flex-col sm:flex-row gap-3\">\n          <select className=\"border border-gray-300 w-full p-2 rounded-sm bg-white\">\n            <option>Select Email</option>\n          </select>\n\n          <button className=\"px-4 py-2 w-full sm:w-28 bg-[#d7dee3] border border-gray-300 rounded-sm\">\n            add more\n          </button>\n        </div>\n      </div>\n\n      {/* TO */}\n      <div>\n        <label className=\"block mb-1 text-gray-700\">To</label>\n        <input\n          type=\"text\"\n          className=\"border border-gray-300 w-full p-2 rounded-sm\"\n          value={toEmail}\n          onChange={(e) => setToEmail(e.target.value)}\n        />\n      </div>\n\n      {/* SUBJECT */}\n      <div>\n        <label className=\"block mb-1 text-gray-700\">Subject</label>\n        <input\n          type=\"text\"\n          className=\"border border-gray-300 w-full p-2 rounded-sm\"\n          placeholder=\"Subject\"\n          value={subject}\n          onChange={(e) => setSubject(e.target.value)}\n        />\n      </div>\n\n      {/* TEMPLATES */}\n      <div>\n        <label className=\"block mb-1 text-gray-700\">Reply with Template</label>\n\n        <select\n          className=\"border border-gray-300 w-full p-2 rounded-sm\"\n          value={selectedTemplate}\n          onChange={(e) => applyTemplate(e.target.value)}\n        >\n          <option value=\"\">Choose Template</option>\n\n          {templates.map((t) => (\n            <option key={t.id} value={t.id}>\n              {t.name}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      {/* MESSAGE EDITOR */}\n      <div>\n        <label className=\"block mb-1 text-gray-700\">Message</label>\n\n        <div className=\"border border-gray-300 rounded-sm\">\n          <div ref={quillRef} className=\"h-[300px] md:h-[350px]\" />\n        </div>\n\n        <button\n          onClick={saveTemplate}\n          className=\"mt-3 px-4 py-2 bg-[#d0ecff] border border-blue-400 text-blue-700 rounded-sm\"\n        >\n          ðŸ“„ Save as a Template\n        </button>\n      </div>\n\n      {/* BUTTONS */}\n      <div className=\"flex flex-col sm:flex-row gap-3 mt-4\">\n        <button\n          onClick={sendEmail}\n          className=\"bg-[#2fa4e7] text-white px-6 py-2 rounded w-full sm:w-32\"\n        >\n          Send Email\n        </button>\n\n        {/* Cancel Button â€” Final */}\n        <button\n          onClick={resetEmailForm}\n          className=\"border px-6 py-2 rounded text-gray-600 w-full sm:w-32\"\n        >\n          Cancel\n        </button>\n      </div>\n\n      {/* LOGS TABLE */}\n      <div className=\"border-t border-dashed mt-6\"></div>\n\n      <div className=\"overflow-x-auto mt-4\">\n        <table className=\"w-full text-sm border border-gray-300 border-collapse\">\n          <thead>\n            <tr className=\"bg-[#e8ecef]\">\n              <th className=\"p-3 border-b text-left\">TO</th>\n              <th className=\"p-3 border-b text-right\">STATUS</th>\n              <th className=\"p-3 border-b text-right\">DATE</th>\n              <th className=\"p-3 border-b text-right\">ACTION</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            {emailLogs.length === 0 ? (\n              <tr>\n                <td\n                  colSpan=\"4\"\n                  className=\"py-4 text-center text-red-500 border-t text-[14px] font-medium\"\n                >\n                  No Records\n                </td>\n              </tr>\n            ) : (\n              emailLogs.map((log) => (\n                <tr key={log.id}>\n                  <td className=\"p-3 border-t text-left\">{log.to}</td>\n                  <td className=\"p-3 border-t text-right\">{log.status}</td>\n                  <td className=\"p-3 border-t text-right\">{log.date}</td>\n                  <td className=\"p-3 border-t text-right text-red-500 cursor-pointer\">\n                    Delete\n                  </td>\n                </tr>\n              ))\n            )}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 496, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jagla/OneDrive/Desktop/CRM/my-app/app/ActivityHistoryPage/page.js"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport CommentsSection from \"./comments/CommentsSection\";\nimport EmailSection from \"./email/page\";\n\nexport default function ActivityHistory() {\n  const [activeTab, setActiveTab] = useState(\"comments\");\n\n  return (\n    <div className=\"bg-white w-full text-black p-4 sm:p-6 md:p-8 lg:p-10 xl:p-6\">\n      <h2 className=\"text-[18px] md:text-[20px] font-semibold mb-3\">\n        Activity <span className=\"text-gray-500\">history</span>\n      </h2>\n\n      <div className=\"border-[1px] border-gray-600 bg-white pb-[100px]\">\n        {/* TABS */}\n        <div className=\"flex bg-[#d7dee3] border-b border-t border-gray-300 flex-wrap h-11\">\n          <button\n            onClick={() => setActiveTab(\"comments\")}\n            className={`px-4 py-2 text-sm border-r border-gray-300 \n              w-1/2 sm:w-auto text-center\n              ${\n                activeTab === \"comments\"\n                  ? \"bg-white font-medium\"\n                  : \"bg-[#d7dee3] text-gray-600\"\n              }\n            `}\n          >\n            Comments\n          </button>\n\n          <button\n            onClick={() => setActiveTab(\"email\")}\n            className={`px-4 py-2 text-sm border-r border-gray-300 \n              w-1/2 sm:w-auto text-center\n              ${\n                activeTab === \"email\"\n                  ? \"bg-white font-medium\"\n                  : \"bg-[#d7dee3] text-gray-600\"\n              }\n            `}\n          >\n            Send email\n          </button>\n        </div>\n\n        <div className=\"p-4 sm:p-5\">\n          {activeTab === \"comments\" ? <CommentsSection /> : <EmailSection />}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;;;;;;AAEA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;;oBAAgD;kCACnD,8OAAC;wBAAK,WAAU;kCAAgB;;;;;;;;;;;;0BAG3C,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,SAAS,IAAM,aAAa;gCAC5B,WAAW,CAAC;;cAEV,EACE,cAAc,aACV,yBACA,6BACL;YACH,CAAC;0CACF;;;;;;0CAID,8OAAC;gCACC,SAAS,IAAM,aAAa;gCAC5B,WAAW,CAAC;;cAEV,EACE,cAAc,UACV,yBACA,6BACL;YACH,CAAC;0CACF;;;;;;;;;;;;kCAKH,8OAAC;wBAAI,WAAU;kCACZ,cAAc,2BAAa,8OAAC;;;;iDAAqB,8OAAC,sJAAY;;;;;;;;;;;;;;;;;;;;;;AAKzE","debugId":null}},
    {"offset": {"line": 605, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jagla/OneDrive/Desktop/CRM/my-app/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 624, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jagla/OneDrive/Desktop/CRM/my-app/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 629, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jagla/OneDrive/Desktop/CRM/my-app/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0],"debugId":null}}]
}